package specialMath

import org.scalatest.FunSuite
import org.scalatest.prop.TableDrivenPropertyChecks._


class MainSpec extends FunSuite {
  test("Main.cachedSpecialMath returns the correct terms in the integer sequence") {
    // Note: Terms for comparison were obtained from OEIS A001924: https://oeis.org/A001924.
    var correctTerms =
      Table(
        ("n", "term"),
        (0, BigInt("0")),
        (1, BigInt("1")),
        (2, BigInt("3")),
        (3, BigInt("7")),
        (4, BigInt("14")),
        (5, BigInt("26")),
        (6, BigInt("46")),
        (7, BigInt("79")),
        (8, BigInt("133")),
        (9, BigInt("221")),
        (10, BigInt("364")),
        (11, BigInt("596")),
        (12, BigInt("972")),
        (13, BigInt("1581")),
        (14, BigInt("2567")),
        (15, BigInt("4163")),
        (16, BigInt("6746")),
        (17, BigInt("10926")),
        (18, BigInt("17690")),
        (19, BigInt("28635")),
        (20, BigInt("46345")),
        (21, BigInt("75001")),
        (22, BigInt("121368")),
        (23, BigInt("196392")),
        (24, BigInt("317784")),
        (25, BigInt("514201")),
        (26, BigInt("832011")),
        (27, BigInt("1346239")),
        (28, BigInt("2178278")),
        (29, BigInt("3524546")),
        (30, BigInt("5702854")),
        (31, BigInt("9227431")),
        (32, BigInt("14930317")),
        (33, BigInt("24157781")),
        (34, BigInt("39088132")),
        (35, BigInt("63245948")),
        (36, BigInt("102334116")),
        (37, BigInt("165580101")),
        (38, BigInt("267914255")),
        (39, BigInt("433494395")),
        (40, BigInt("701408690")),
        (41, BigInt("1134903126")),
        (42, BigInt("1836311858")),
        (43, BigInt("2971215027")),
        (44, BigInt("4807526929")),
        (45, BigInt("7778742001")),
        (46, BigInt("12586268976")),
        (47, BigInt("20365011024")),
        (48, BigInt("32951280048")),
        (49, BigInt("53316291121")),
        (50, BigInt("86267571219")),
        (51, BigInt("139583862391")),
        (52, BigInt("225851433662")),
        (53, BigInt("365435296106")),
        (54, BigInt("591286729822")),
        (55, BigInt("956722025983")),
        (56, BigInt("1548008755861")),
        (57, BigInt("2504730781901")),
        (58, BigInt("4052739537820")),
        (59, BigInt("6557470319780")),
        (60, BigInt("10610209857660")),
        (61, BigInt("17167680177501")),
        (62, BigInt("27777890035223")),
        (63, BigInt("44945570212787")),
        (64, BigInt("72723460248074")),
        (65, BigInt("117669030460926")),
        (66, BigInt("190392490709066")),
        (67, BigInt("308061521170059")),
        (68, BigInt("498454011879193")),
        (69, BigInt("806515533049321")),
        (70, BigInt("1304969544928584")),
        (71, BigInt("2111485077977976")),
        (72, BigInt("3416454622906632")),
        (73, BigInt("5527939700884681")),
        (74, BigInt("8944394323791387")),
        (75, BigInt("14472334024676143")),
        (76, BigInt("23416728348467606")),
        (77, BigInt("37889062373143826")),
        (78, BigInt("61305790721611510")),
        (79, BigInt("99194853094755415")),
        (80, BigInt("160500643816367005")),
        (81, BigInt("259695496911122501")),
        (82, BigInt("420196140727489588")),
        (83, BigInt("679891637638612172")),
        (84, BigInt("1100087778366101844")),
        (85, BigInt("1779979416004714101")),
        (86, BigInt("2880067194370816031")),
        (87, BigInt("4660046610375530219")),
        (88, BigInt("7540113804746346338")),
        (89, BigInt("12200160415121876646")),
        (90, BigInt("19740274219868223074")),
        (91, BigInt("31940434634990099811")),
        (92, BigInt("51680708854858322977")),
        (93, BigInt("83621143489848422881")),
        (94, BigInt("135301852344706745952")),
        (95, BigInt("218922995834555168928")),
        (96, BigInt("354224848179261914976")),
        (97, BigInt("573147844013817084001")),
        (98, BigInt("927372692193078999075")),
        (99, BigInt("1500520536206896083175")),
        (100, BigInt("2427893228399975082350")),
        (101, BigInt("3928413764606871165626")),
        (102, BigInt("6356306993006846248078")),
        (103, BigInt("10284720757613717413807")),
        (104, BigInt("16641027750620563661989")),
        (105, BigInt("26925748508234281075901")),
        (106, BigInt("43566776258854844737996")),
        (107, BigInt("70492524767089125814004")),
        (108, BigInt("114059301025943970552108")),
        (109, BigInt("184551825793033096366221")),
        (110, BigInt("298611126818977066918439")),
        (111, BigInt("483162952612010163284771")),
        (112, BigInt("781774079430987230203322")),
        (113, BigInt("1264937032042997393488206")),
        (114, BigInt("2046711111473984623691642")),
        (115, BigInt("3311648143516982017179963")),
        (116, BigInt("5358359254990966640871721")),
        (117, BigInt("8670007398507948658051801")),
        (118, BigInt("14028366653498915298923640")),
        (119, BigInt("22698374052006863956975560")),
        (120, BigInt("36726740705505779255899320")),
        (121, BigInt("59425114757512643212875001")),
        (122, BigInt("96151855463018422468774443")),
        (123, BigInt("155576970220531065681649567")),
        (124, BigInt("251728825683549488150424134")),
        (125, BigInt("407305795904080553832073826")),
        (126, BigInt("659034621587630041982498086")),
        (127, BigInt("1066340417491710595814572039")),
        (128, BigInt("1725375039079340637797070253")),
        (129, BigInt("2791715456571051233611642421")),
        (130, BigInt("4517090495650391871408712804")),
        (131, BigInt("7308805952221443105020355356")),
        (132, BigInt("11825896447871834976429068292")),
        (133, BigInt("19134702400093278081449423781")),
        (134, BigInt("30960598847965113057878492207")),
        (135, BigInt("50095301248058391139327916123")),
        (136, BigInt("81055900096023504197206408466")),
        (137, BigInt("131151201344081895336534324726")),
        (138, BigInt("212207101440105399533740733330")),
        (139, BigInt("343358302784187294870275058195")),
        (140, BigInt("555565404224292694404015791665")),
        (141, BigInt("898923707008479989274290850001")),
        (142, BigInt("1454489111232772683678306641808")),
        (143, BigInt("2353412818241252672952597491952")),
        (144, BigInt("3807901929474025356630904133904")),
        (145, BigInt("6161314747715278029583501626001")),
        (146, BigInt("9969216677189303386214405760051")),
        (147, BigInt("16130531424904581415797907386199")),
        (148, BigInt("26099748102093884802012313146398")),
        (149, BigInt("42230279526998466217810220532746")),
        (150, BigInt("68330027629092351019822533679294")),
        (151, BigInt("110560307156090817237632754212191")),
        (152, BigInt("178890334785183168257455287891637")),
        (153, BigInt("289450641941273985495088042103981")),
        (154, BigInt("468340976726457153752543329995772")),
        (155, BigInt("757791618667731139247631372099908")),
        (156, BigInt("1226132595394188293000174702095836")),
        (157, BigInt("1983924214061919432247806074195901")),
        (158, BigInt("3210056809456107725247980776291895")),
        (159, BigInt("5193981023518027157495786850487955")),
        (160, BigInt("8404037832974134882743767626780010")),
        (161, BigInt("13598018856492162040239554477268126")),
        (162, BigInt("22002056689466296922983322104048298")),
        (163, BigInt("35600075545958458963222876581316587")),
        (164, BigInt("57602132235424755886206198685365049")),
        (165, BigInt("93202207781383214849429075266681801")),
        (166, BigInt("150804340016807970735635273952047016")),
        (167, BigInt("244006547798191185585064349218728984")),
        (168, BigInt("394810887814999156320699623170776168")),
        (169, BigInt("638817435613190341905763972389505321")),
        (170, BigInt("1033628323428189498226463595560281659")),
        (171, BigInt("1672445759041379840132227567949787151")),
        (172, BigInt("2706074082469569338358691163510068982")),
        (173, BigInt("4378519841510949178490918731459856306")),
        (174, BigInt("7084593923980518516849609894969925462")),
        (175, BigInt("11463113765491467695340528626429781943")),
        (176, BigInt("18547707689471986212190138521399707581")),
        (177, BigInt("30010821454963453907530667147829489701")),
        (178, BigInt("48558529144435440119720805669229197460")),
        (179, BigInt("78569350599398894027251472817058687340")),
        (180, BigInt("127127879743834334146972278486287884980")),
        (181, BigInt("205697230343233228174223751303346572501")),
        (182, BigInt("332825110087067562321196029789634457663")),
        (183, BigInt("538522340430300790495419781092981030347")),
        (184, BigInt("871347450517368352816615810882615488194")),
        (185, BigInt("1409869790947669143312035591975596518726")),
        (186, BigInt("2281217241465037496128651402858212007106")),
        (187, BigInt("3691087032412706639440686994833808526019")),
        (188, BigInt("5972304273877744135569338397692020533313")),
        (189, BigInt("9663391306290450775010025392525829059521")),
        (190, BigInt("15635695580168194910579363790217849593024")),
        (191, BigInt("25299086886458645685589389182743678652736")),
        (192, BigInt("40934782466626840596168752972961528245952")),
        (193, BigInt("66233869353085486281758142155705206898881")),
        (194, BigInt("107168651819712326877926895128666735145027")),
        (195, BigInt("173402521172797813159685037284371942044103")),
        (196, BigInt("280571172992510140037611932413038677189326")),
        (197, BigInt("453973694165307953197296969697410619233626")),
        (198, BigInt("734544867157818093234908902110449296423150")),
        (199, BigInt("1188518561323126046432205871807859915656975")),
        (200, BigInt("1923063428480944139667114773918309212080325"))
      )
    forAll (correctTerms) { (n: Int, term: BigInt) =>
      assert(Main.cachedSpecialMath(n) == term)
    }
  }
}
